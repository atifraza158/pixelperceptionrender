{% extends "base.html" %}
{% block content %}
<style>
    .custom-range::-webkit-slider-thumb {
        background: #D5F0C1;
    }

    .custom-range::-moz-range-thumb {
        background: gray;
    }

    .custom-range::-ms-thumb {
        background: gray;
    }
</style>

<div class="container mt-5 d-flex"
    style="justify-content: center; align-items: center; flex-direction: column; margin-bottom: 80px;">
    <h2 class="text-center main-text">Compress Your Images Without Loosing Quality</h2>
    <p class="text-center nav-elements-font">Efficiently compress images for faster loading without compromising quality.</p>
    <hr width="30%" color="black">
    <br>
    <div class="card p-5 shadow-lg" style="background-color: #f8fbfe;">
        {% if message %}
        <div class="alert alert-dismissible fade show" style="background-color: #d5f0c1;" role="alert">
            {{message}}
            <button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        {% endif %}
        <h3 class="card-title-fonts fs-4">Choose an image file</h3>
        <form action="" method="post" enctype="multipart/form-data">
            {% csrf_token %}
            <!-- {{ form.as_p }} -->
            <input type="file" name="image" id="image" class="form-control" required>
            <br>
            <label class="form-label">How Much Compress You Want</label>
            <input type="range" name="compress_range" id="compress_range" class="form-range custom-range" required
                max="100" min="30">
            <div id="valueDisplay">Current Value: 70</div>
            <div id="valueDisplay">Recommended: 60 to 75</div>
            <br>
            <div class="d-flex" style="justify-content: right;">
                <button type="submit" class="btn" style="background-color: #D5F0C1;">Upload Image <i
                        class="fa-solid fa-upload"></i></button>
            </div>
        </form>
    </div>
</div>


<script>
    document.addEventListener('DOMContentLoaded', function () {
        var rangeInput = document.getElementById('compress_range');
        var valueDisplay = document.getElementById('valueDisplay');

        rangeInput.addEventListener('input', function () {
            var currentValue = rangeInput.value;
            valueDisplay.textContent = 'Current Value: ' + currentValue;
        });
    });
</script>


{% endblock content %}